= 화면 구성
ifndef::imagesdir[:imagesdir: ../images]

== 화면 영역

화면은 다음과 같이 3개의 영역으로 나누어진다.

[%header,cols="1,3"]
|===
| 영역
| 설명

| 헤더 영역
| 화면의 상단에 위치한다. 스코프(클러스터/네임스페이스) 를 선택할 수 있고 사용자 정보가 표시된다.

| 메뉴 영역
| 화면의 좌측에 위치한다. 각 스코프(글로벌/클러스터/네임스페이스) 에 대한 메뉴를 표시한다. 메뉴는 사용자
  권한에 따라 사용가능한 항목이 표시된다.

| 이벤트 영역
| 화면의 하단에 위치하여 멀티 클러스터에서 발생하는 이벤트를 표시한다.

| 메인 영역
| 각 메뉴에 대한 화면을 표시한다. 메뉴별 정보를 표시하고 기능을 설정, 제어, 모니터할 수 있다.
|===

=== 헤더 영역

image::layout/header.png[]

==== 스코프 선택


===== 클러스터 선택

image::layout/header-cluster-menu.png[360,387]

 네임스페이스, 노드 관리와 같이 클러스터 스코프에서 필요한 작업을 수행하기 위해 클러스터를 선택할 수 있다.

<<<

===== 네임스페이스 선택

image::layout/header-namespace-menu.png[360,387]

 애플리케이션, 빌드와 같이 네임스페이스 스코프에서 필요한 작업을 수행하기 위해 네임스페이스를 선택할 수 있다.

<<<
==== 사용자 설정

===== 비밀번호 변경

image::layout/profile-password.png[350,376]

 사용자의 비밀번호를 변경할 수 있다.

===== 매뉴얼

 아코디언 매뉴얼을 확인할 수 있다.

===== kubectl 사용 가이드

image::layout/profile-kubectl.png[760,356]

- 아코디언의 버전에 맞는 `kubectl` 실행 파일 다운로드 경로를 알 수 있다.
- 아코디언 사용자의 `kubeconfig` 를 다운로드 받을 수 있다.

<<<

===== API Key

 아코디언 API를 이용할 수 있는 token 을 관리한다.

====== API Key 목록

image::layout/apikey-list.png[]

- 생성한 `token` 정보를 조회한다.

[cols="1,3a"]
|===
| 기능
| 설명

| 상태
| `token` 이 유효한지 알 수 있다. (`Active` or `InActive`)

| API Key
| `token` 정보

| 생성일
| `token` 생성일

| 만료일
| `token` 만료일로 만료일이 되면 자동 삭제된다.
|===


<<<
====== API Key 생성

image::layout/apikey-creating.png[]

- 간단한 설명을 포함하여 `token` 을 생성한다.
- 가급적 만료일을 설정하여 생성하길 권장한다.

image::layout/apikey-created.png[]

- 생성한 `token` 을 확인한다.

====== API Key 삭제

image::layout/apikey-delete.png[760,357]

- 수동으로 `token` 을 삭제한다.

===== 로그아웃

 사용자 로그아웃을 한다.

<<<

=== 메뉴 영역

메뉴는 스코프별로 분류되며 스코프는 글로벌, 클러스터, 네임스페이스 3개로 구분된다.

==== 글로벌 메뉴

[cols="1,3a"]
|===
| 메뉴
| 설명

| 글로벌 대시보드
| 멀티 클러스터 모니터링 대시보드로 멀티 클러스터와 리소스의 상태 정보를 조회한다.

| 클러스터
| 호스트 클러스터 및 호스트 클러스터와 연결된 멤버 클러스터의 정보를 조회하고 관리한다.

| 헬름
| 헬름 차트를 사용하기 위해 헬름 리포지터리를 조회하고 관리한다.

| 계정
| 아코디언 전반에 걸쳐 계정 정보를 관리한다. +
사용자, 그룹 및 그리고 글로벌/클러스터/네임스페이스 스코프 별 메뉴에 대한 권한을 관리하고 사용자/그룹과 글로벌 권한을 바인딩하여 글로벌 멤버로 설정한다. +
그 외에 사용자의 접속 로그를 조회할 수 있다.

* 사용자: 사용자 정보를 조회, 관리
* 그룹: 사용자 그룹 정보를 조회, 관리
* 글로벌 권한: 글로벌 스코프의 메뉴에 대해 사용 권한을 집합하여 단일 권한으로 관리
* 클러스터 권한: 클러스터 스코프의 메뉴에 대해 사용 권한을 집합하여 단일 권한으로 관리
* 네임스페이스 권한: 네임스페이스 스코프의 메뉴에 대해 사용 권한을 집합하여 단일 권한으로 관리
* 글로벌 멤버: 사용자/그룹과 글로벌 권한을 바인딩한다.
* 사용자 접속 로그: 사용자의 접속 로그를 조회한다.

| 글로벌 설정
| 활성화 키와 알림 발송을 위한 글로벌 수신자를 관리한다.

* 활성화 키: 활성화 키 정보를 조회, 등록한다.
* 글로벌 수신자: 알림 발송을 받을 글로벌 수신자 정보를 관리한다.
|===

<<<

==== 클러스터 메뉴

클러스터 메뉴는 개별 클러스터 스코프에서 서비스 배포와 운영을 위한 메뉴를 제공한다.

[cols="1,3a"]
|===
| 메뉴
| 설명

| 클러스터 대시보드
| 해당 클러스터의 리소스 상태 정보를 제공한다.

| 네임스페이스
| 해당 클러스터의 네임스페이스 정보를 관리한다.

| 노드
| 해당 클러스터를 구성하는 노드의 정보를 관리한다. 그리고 노드를 스케줄 대상에서 제외하거나 노드에
배포된 파드를 다른 노드로 이동시킬 수 있다.

| 애플리케이션
| 헬름을 이용해 애플리케이션을 클러스터에 배포한다.

| 워크로드
| 워크로드 리소스 정보를 관리하기 위한 대시보드를 제공하고 편집기 등으로 관리한다.

* 워크로드 대시보드: 배포한 파드 정보를 차트로 표시한다.
* 파드: 파드 정보를 제공하고 관리한다. 컨테이너 로그 및 터미널을 이용해 접속할 수 있다.
* 디플로이먼트/스테이트풀셋: 파드를 관리하는 리소스로 편집기로 관리하며 오토스케일을 설정할 수 있다.
* 데몬셋: 노드마다 파드를 실행하도록 제어한다.
* 잡/크론잡: 특정 작업을 일시적/주기적으로 실행할 수 있도록 관리한다.

| 구성
| 시스템과 애플리케이션 구성 및 설정에 필요한 정보를 관리한다.

* 컨피그맵/시크릿: 일반 정보 또는 기밀성 정보를 저장한다.
* HPA/리밋레인지: 수평적 오토스케일 및 리소스 할당을 제한한다.

| 네트워크
| 애플리케이션 연동을 위해 네트워크 구성에 필요한 리소스를 관리한다.

* 서비스: 애플리케이션을 네트워크 서비스로 노출한다.
* 인그레스: 서비스를 http 또는 https 경로로 노출한다.
* 네트워크폴리시: OSI 3 또는 4 계층에서 트래픽 흐름을 제어한다.

| 스토리지
| 스토리지 목록을 확인할 수 있으며 YAML/생성/수정/삭제할 수 있다.

* 퍼시스턴트볼륨: NFS 와 같이 스토리지 구현에 필요한 정보를 관리한다.
* 퍼시스턴트볼륨클레임: 스토리지에 대해 요청을 하는 리소스 정보를 관리한다.
* 스토리지클래스: 퍼시스턴트볼륨을 동적으로 배포한다.

| 커스텀 리소스
| 쿠버네티스 커스텀 리소스를 관리한다.

| 접근제어
| 쿠버네티스의 역할 기반 접근 제어를 관리하고 구성한다.

* 서비스어카운트: 주로 파드에 인증 정보를 제공한다. (사용자 역할)
* 롤/클러스터롤: API나 리소스에 대한 권한을 설정한다.
* 롤바인딩/클러스터롤바인딩: 롤/클러스터롤을 사용자 또는 서비스어카운트 등에 연결한다.

| 모니터링
| 시스템 상태 및 각종 로그를 조회한다.

* 시스템: 클러스터 내 CPU, 메모리와 같은 리소스 사용량 정보를 제공한다.
* 이벤트 로그: 쿠버네티스 이벤트 로그를 조회한다.
* 컨테이너 로그: 쿠버네티스에 배포되었던 컨테이너에서 발생한 로그를 조회한다.
* 감사 로그: 클러스터 내 감사 로그를 조회한다.
* 알림 로그: 클러스터 내 발생한 알림 정보를 조회한다.
* 서비스메시: 클러스터 내 서비스 간의 통신 정보를 표시한다.

| 설정
| 클러스터를 사용하는 멤버를 구성하고 알림 정책을 세운다.
레지스트리 정보 및 알림을 위한 클러스터 수신자 정보를 설정한다.

* 클러스터 멤버: 클러스터 권한과 사용자/그룹을 연결한다.
* 클러스터 수신자: 알림 발송을 받을 클러스터 수신자 정보를 관리한다.
* 알림 정책: 클러스터 알림 발송 규칙 및 발송 주기/수신자 등을 설정힌다.
* 레지스트리: 컨테이너 이미지를 배포하고 가져올 레지스트리 저장소 정보를 설정한다.
|===

<<<

==== 네임스페이스 메뉴

네임스페이스 메뉴는 네임스페이스 스코프에서 서비스의 배포와 운영을 위한 메뉴를 제공한다.

메뉴 중 일부는 클러스터 메뉴와 중복된다. 중복되는 메뉴의 경우 동일한 기능에 대해 접근하는 스코프의
차이를 제외하고 대부분 동일한 기능을 제공한다.

[cols="1,3a"]
|===
| 메뉴
| 설명

| 네임스페이스 대시보드
| 해당 네임스페이스의 리소스 상태 정보를 제공한다.

| 애플리케이션
| 헬름과 카탈로그를 이용해 애플리케이션을 클러스터에 배포한다.

* 헬름: 헬름 차트로 애플리케이션을 배포한다. 주로 빌드를 수행하지 않는 서비스형 애플리케이션을 배포한다.
* 카탈로그: 카탈로그로 애플리케이션을 배포한다. 빌드 파이프라인을 지원한다.

| 빌드
| 애플리케이션 빌드에 필요한 정보를 제어하고 관리한다. 컨테이너 이미지를 빌드할 수 있고 빌드에 필요한
파이프라인 또는 승인에 대해 설정한다.

* 파이프라인: 태스크를 조합하여 빌드를 수행할 파이프라인을 작성한다.
* 승인: 파이프라인에서 발생한 승인 요청을 처리한다.
* 태스크 템플릿: 파이프라인 작성시 사용하는 태스크에 대한 템플릿을 관리한다.

| 워크로드
| `클러스터 메뉴` 의 `워크로드` 메뉴와 동일한 기능을 네임스페이스 스코프에서 수행한다.

| 구성
| `클러스터 메뉴` 의 `구성` 메뉴와 동일한 기능을 네임스페이스 스코프에서 수행한다.

| 네트워크
| `클러스터 메뉴` 의 `네트워크` 메뉴와 동일한 기능을 네임스페이스 스코프에서 수행한다.

| 스토리지
| 퍼시스턴트볼륨클레임 리소스 정보를 관리한다.

| 접근제어
| 쿠버네티스의 역할 기반 접근 제어를 관리하고 구성한다.

* 서비스어카운트: 주로 파드에 인증 정보를 제공한다. (사용자 역할)
* 롤: API나 리소스에 대한 권한을 설정한다.
* 롤바인딩: 롤을 사용자 또는 서비스어카운트 등에 연결한다.

| 모니터링
| 시스템 및 애플리케이션 상태 및 각종 로그를 조회한다.

* 시스템: 네임스페이스 내 CPU, 메모리와 같은 리소스 사용량 정보를 제공한다.
* 애플리케이션: 스카우터로 수집한 애플리케이션에 대한 메트릭 정보를 제공한다.
* 이벤트 로그: 네임스페이스에서 발생한 쿠버네티스 이벤트 로그를 조회한다.
* 컨테이너 로그: 네임스페이스에 배포되었던 컨테이너에서 발생한 로그를 조회한다.
* 감사 로그: 네임스페이스 내 감사 로그를 조회한다.
* 알림 로그: 네임스페이스 내 발생한 알림 정보를 조회한다.

| 설정
| 네임스페이스를 사용하는 멤버를 구성한다. 그리고 알림 정책을 세우고 알림을 위한 네임스페이스 수신자 정보를 설정한다.

* 네임스페이스 멤버: 네임스페이스 권한과 사용자/그룹을 연결한다.
* 네임스페이스 수신자: 알림 발송을 받을 네임스페이스 수신자 정보를 관리한다.
* 알림 정책: 네임스페이스 알림 발송 규칙 및 발송 주기/수신자 등을 설정한다.
|===

<<<

=== 이벤트 영역

이벤트는 멀티 클러스터 쿠버네티스 실시간 이벤트 정보를 제공하며 기본으로 최소화되어있으며 이벤트 영역을 클릭하면 상세 조회할 수 있다.

==== 이벤트 영역의 최소화

이벤트 영역에 우측 툴팁으로 현재 실시간으로 발생한 이벤트 수를 확인할 수 있다.

image::layout/event.png[]

==== 이벤트 영역의 최대화

이벤트 영역의 최대화 시 이벤트 상세 확인 및 검색할 수 있다.

image::layout/event-list.png[]

[cols="1,3a"]
|===
| 항목
| 설명

| Age
| 이벤트가 발생한 시간

| 클러스터
| 클러스터 명

| 네임스페이스
| 네임스페이스 명

| 타입
| 이벤트 타입

- Normal: 일반적인 작업으로 발생된 이벤트
- Warning: 오류에 의해 발생된 이벤트

| 원인
| 이벤트 발생 이유

| 오브젝트
| 오브젝트 정보

| 메세지
| 이벤트 상세 메시지

|===
